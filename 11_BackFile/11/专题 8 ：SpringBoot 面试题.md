```
疯狂创客圈 尼恩Java面试宝典^
```
# 牛逼的职业发展之路

40 岁老架构尼恩用一张图揭秘: Java 工程师的高端职业发展路径，走向食物链顶端的之路

链接：https://www.processon.com/view/link/618a2b62e0b34d73f7eb3cd


```
疯狂创客圈 尼恩Java面试宝典
```
# 史上最全：价值 10 W 的架构师知识图谱

此图梳理于尼恩的多个 3 高生产项目：多个亿级人民币的大型 SAAS 平台和智慧城市项目

链接：https://www.processon.com/view/link/60fb9421637689719d


```
疯狂创客圈 尼恩Java面试宝典
```
# 牛逼的架构师哲学

40 岁老架构师尼恩对自己的 20 年的开发、架构经验总结

链接：https://www.processon.com/view/link/616f801963768961e9d9aec


```
疯狂创客圈 尼恩Java面试宝典
```
# 牛逼的 3 高架构知识宇宙

尼恩 3 高架构知识宇宙，帮助大家穿透 3 高架构，走向技术自由，远离中年危机

链接：https://www.processon.com/view/link/635097d2e0b34d40be778ab


```
疯狂创客圈 尼恩Java面试宝典
```
# 尼恩 Java 高并发三部曲（卷 1 加强版）

老版本：《Java 高并发核心编程卷 1 ：NIO、Netty、Redis、ZooKeeper》（已经过时，不建
议购买）

###### 新版本：《Java 高并发核心编程卷 1 加强版 ：NIO、Netty、Redis、ZooKeeper》

 由浅入深地剖析了高并发 IO 的底层原理。

 图文并茂的介绍了 TCP、HTTP、WebSocket 协议的核心原理。

 细致深入地揭秘了 Reactor 高性能模式。

 全面介绍了 Netty 框架，并完成单体 IM、分布式 IM 的实战设计。

 详尽地介绍了 ZooKeeper、Redis 的使用，以帮助提升高并发、可扩展能力

详情：https://www.cnblogs.com/crazymakercircle/p/16868827.html


```
疯狂创客圈 尼恩Java面试宝典
```
# 尼恩 Java 高并发三部曲（卷 2 加强版）

老版本：《Java 高并发核心编程卷 2 ：多线程、锁、JMM、JUC、高并发设计模式》
（已经过时，不建议购买）

###### 新版本：《Java 高并发核心编程卷 2 加强版 ：多线程、锁、JMM、JUC、高并发设计模式》

 由浅入深地剖析了 Java 多线程、线程池的底层原理。

 总结了 IO 密集型、CPU 密集型线程池的线程数预估算法。

 图文并茂的介绍了 Java 内置锁、JUC 显式锁的核心原理。

 细致深入地揭秘了 JMM 内存模型。

 全面介绍了 JUC 框架的设计模式与核心原理，并完成其高核心组件的实战介绍。

 详尽地介绍了高并发设计模式的使用，以帮助提升高并发、可扩展能力

详情参阅：https://www.cnblogs.com/crazymakercircle/p/16868827.html


```
疯狂创客圈 尼恩Java面试宝典
```
# 尼恩 Java 高并发三部曲（卷 3 加强版）

老版本：《SpringCloud Nginx 高并发核心编程》（已经过时，不建议购买）

###### 新版本：《Java 高并发核心编程卷 3 加强版 ：亿级用户 Web 应用架构与实战》

 在当今的面试场景中， 3 高知识是大家面试必备的核心知识，本书基于亿级用户 3 高 Web 应用

```
的架构分析理论，为大家对 3 高架构系统做一个系统化和清晰化的介绍。
```
 从 Java 静态代理、动态代理模式入手，抽丝剥茧地解读了 Spring Cloud 全家桶中 RPC 核心原

```
理和执行过程，这是高级Java工程师面试必备的基础知识。
```
 从 Reactor 反应器模式入手，抽丝剥茧地解读了 Nginx 核心思想和各配置项的底层知识和原理，

```
这是高级Java工程师、架构师面试必备的基础知识。
```
 从观察者模式入手，抽丝剥茧地解读了 RxJava、Hystrix 的核心思想和使用方法，这也是高级

```
Java工程师、架构师面试必备的基础知识。
```
详情：https://www.cnblogs.com/crazymakercircle/p/16868827.html


## 专题 8 ：SpringBoot 面试题（史上最全、定期

## 更新）

### 本文版本说明：V

```
此文的格式，由markdown 通过程序转成而来，由于很多表格，没有来的及调整，出现一个格式
问题，尼恩在此给大家道歉啦。
由于社群很多小伙伴，在面试，不断的交流最新的面试难题，所以，《Java面试红宝书》， 后面
会不断升级，迭代。
```
```
本专题，作为 《Java面试红宝书》专题之一， 《Java面试红宝书》一共 30 个面试专题，后续还
会增加
```
##### 《Java 面试红宝书》升级的规划为：

```
后续基本上， 每一个月，都会发布一次 ，最新版本，可以扫描扫架构师尼恩微信， 发送 “领取电子书”
获取。
```
```
尼恩的微信二维码在哪里呢 ？ 请参见文末
```
##### 面试问题交流说明：

```
如果遇到面试难题，或者职业发展问题， 或者中年危机问题，都可以来 疯狂创客圈社群交流，
加入交流群，加尼恩微信即可，
```
### SpringBoot 概述

##### 什么是 Spring Boot？

```
Spring Boot 是 Spring 开源组织下的子项目，是 Spring 组件一站式解决方案，主要是简化了使用
Spring 的难度，简省了繁重的配置，提供了各种启动器，开发者能快速上手。
```
##### Spring Boot、Spring MVC 和 Spring 有什么区别？

```
SpringFrame
SpringFramework 最重要的特征是依赖注入。所有 SpringModules 不是依赖注入就是 IOC 控制
反转。
```
page: 1/13 of 尼恩 Java 硬核架构班：狠卷 3 高架构，卷透底层技术，走向技术自由！


```
当我们恰当的使用 DI 或者是 IOC 的时候，我们可以开发松耦合应用。松耦合应用的单元测试可以很容
易的进行。
```
```
SpringMVC
```
```
Spring MVC 提供了一种分离式的方法来开发 Web 应用。通过运用像 DispatcherServelet，
MoudlAndView 和 ViewResolver 等一些简单的概念，开发 Web 应用将会变的非常简单。
```
```
SpringBoot
```
```
Spring 和 SpringMVC 的问题在于：需要配置大量的参数。
```
```
Spring Boot 通过一个自动配置和启动的项来目解决这个问题。为了更快的构建产品就绪应用程序，
Spring Boot 提供了一些非功能性特征。
```
##### Spring Boot 有哪些优点？

```
Spring Boot 主要有如下优点：
1. 容易上手，提升开发效率，为 Spring 开发提供一个更快、更广泛的入门体验。
2. 开箱即用，远离繁琐的配置。
3. 提供了一系列大型项目通用的非业务性功能，例如：内嵌服务器、安全管理、运行数据监控、运行
状况检查和外部化配置等。
4. 没有代码生成，也不需要XML配置。
5. 避免大量的 Maven 导入和各种版本冲突。
```
##### 为什么要用 SpringBoot？

```
为了解决java开发中的，繁多的配置、底下的开发效率，复杂的部署流程，和第三方技术集成难度
大的问题，产生了spring boot。
springboot 使用 “习惯优于配置”的理念让项目快速运行起来，使用springboot很容易创建一个独
立运行的jar，内嵌servlet容器
springboot的核心功能一：独立运行spring项目，springboot可以以jar包的形式独立运行，运行
一个springboot项目只需要 java -jar xxx.jar 来运行
```
```
<pre style="box-sizing: inherit; font-family: Menlo, Monaco, Consolas,
&quot;Courier New&quot;, monospace; font-size: 13px; word-break: initial; word-
wrap: initial; white-space: pre; overflow: auto; margin: 16px 0px 14px; padding:
14px 15px 12px; border-radius: 3px; border: none; display: block; line-height:
1.6; background: rgb(246, 246, 246); color: rgb(61, 70, 77); font-style: normal;
font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400;
letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-
transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;
text-decoration-style: initial; text-decoration-color: initial;"><bean
class="org.springframework.web.servlet.view.InternalResourceViewResolver">
<property name="prefix">
<value>/WEB-INF/views/</value>
</property>
<property name="suffix">
<value>.jsp</value>
</property>
</bean>
<mvc:resources mapping="/webjars/**" location="/webjars/"/></pre>
```
page: 2/13 of 尼恩 Java 硬核架构班：狠卷 3 高架构，卷透底层技术，走向技术自由！


```
springboot的核心功能二：内嵌servlet容器，可以内嵌tomcat，接天jetty，或者undertow，这
样我们就可以不用war包形式部署项目
springboot的核心功能三，提供starter简化maven配置，spring提供了一系列starter pom 来简
化maven的依赖加载， 当使用了 spring-boot-starter-web时，会自动加载所需要的依赖包
springboot的核心功能三：自动配置spring sprintboot 会根据在类路径的jar包，类，为jar包中的
类自动配置bean，这样会极大的减少使用的配置，会根据启动类所在的目录，自动配置bean
```
##### 什么是 Spring Boot Stater ？

```
启动器是一套方便的依赖没描述符，它可以放在自己的程序中。你可以一站式的获取你所需要的
Spring 和相关技术，而不需要依赖描述符的通过示例代码搜索和复制黏贴的负载。
```
```
例如，如果你想使用 Sping 和 JPA 访问数据库，只需要你的项目包含 spring-boot-starter-data-jpa 依
赖项，你就可以完美进行。
```
##### Spring Boot 还提供了其它的哪些 Starter 选项？

```
Spring Boot 也提供了其它的启动器项目包括，包括用于开发特定类型应用程序的典型依赖项。
```
```
spring-boot-starter-web-services - SOAP Web Services
```
```
spring-boot-starter-web - Web 和 RESTful 应用程序
spring-boot-starter-test - 单元测试和集成测试
```
```
spring-boot-starter-jdbc - 传统的 JDBC
spring-boot-starter-hateoas - 为服务添加 HATEOAS 功能
```
```
spring-boot-starter-security - 使用 SpringSecurity 进行身份验证和授权
```
```
spring-boot-starter-data-jpa - 带有 Hibeernate 的 Spring Data JPA
spring-boot-starter-data-rest - 使用 Spring Data REST 公布简单的 REST 服务
```
##### Spring 是如何快速创建产品就绪应用程序的？

```
Spring Boot 致力于快速产品就绪应用程序。为此，它提供了一些譬如高速缓存，日志记录，监控和嵌
入式服务器等开箱即用的非功能性特征。
```
```
spring-boot-starter-actuator - 使用一些如监控和跟踪应用的高级功能
```
```
spring-boot-starter-undertow, spring-boot-starter-jetty, spring-boot-starter-tomcat - 选择您的特定
嵌入式 Servlet 容器
```
```
spring-boot-starter-logging - 使用 logback 进行日志记录
spring-boot-starter-cache - 启用 Spring Framework 的缓存支持
```
##### Spring 2 和 Spring 5 所需要的最低 Java 版本是什么？

```
Spring Boot 2.0 需要 Java8 或者更新的版本。Java6 和 Java7 已经不再支持。
```
page: 3/13 of 尼恩 Java 硬核架构班：狠卷 3 高架构，卷透底层技术，走向技术自由！


##### Spring Boot 的核心注解是哪个？它主要由哪几个注解组成的？

```
启动类上面的注解是@SpringBootApplication，它也是 Spring Boot 的核心注解，主要组合包含了以下
3 个注解：
```
```
@SpringBootConfiguration：组合了 @Configuration 注解，实现配置文件的功能。
```
```
@EnableAutoConfiguration：打开自动配置的功能，也可以关闭某个自动配置的选项，如关闭数据源
自动配置功能： @SpringBootApplication(exclude = { DataSourceAutoConfiguration.class })。
@ComponentScan：Spring组件扫描。
```
### 自动配置

##### 什么是 JavaConfig？

```
Spring JavaConfig 是 Spring 社区的产品，它提供了配置 Spring IoC 容器的纯Java 方法。因此它有助于
避免使用 XML 配置。使用 JavaConfig 的优点在于：
（ 1 ）面向对象的配置。由于配置被定义为 JavaConfig 中的类，因此用户可以充分利用 Java 中的面向
对象功能。一个配置类可以继承另一个，重写它的@Bean 方法等。
```
```
（ 2 ）减少或消除 XML 配置。基于依赖注入原则的外化配置的好处已被证明。但是，许多开发人员不希
望在 XML 和 Java 之间来回切换。JavaConfig 为开发人员提供了一种纯 Java 方法来配置与 XML 配置概
念相似的 Spring 容器。从技术角度来讲，只使用 JavaConfig 配置类来配置容器是可行的，但实际上很
多人认为将JavaConfig 与 XML 混合匹配是理想的。
```
```
（ 3 ）类型安全和重构友好。JavaConfig 提供了一种类型安全的方法来配置 Spring容器。由于 Java 5.
对泛型的支持，现在可以按类型而不是按名称检索 bean，不需要任何强制转换或基于字符串的查找。
```
##### Spring Boot 自动配置原理是什么？

```
注解 @EnableAutoConfiguration, @Configuration, @ConditionalOnClass 就是自动配置的核心，
@EnableAutoConfiguration 给容器导入META-INF/spring.factories 里定义的自动配置类。
```
```
筛选有效的自动配置类。
每一个自动配置类结合对应的 xxxProperties.java 读取配置文件进行自动配置功能
```
##### 如何理解 Spring Boot 配置加载顺序？

```
在 Spring Boot 里面，可以使用以下几种方式来加载配置。
```
```
1 ）properties文件；
2 ）YAML文件；
```
```
3 ）系统环境变量；
```
page: 4/13 of 尼恩 Java 硬核架构班：狠卷 3 高架构，卷透底层技术，走向技术自由！


```
4 ）命令行参数；
```
```
等等......
```
```
我们可以在 Spring Beans 里面直接使用这些配置文件中加载的值，如：
```
```
1 、使用 @Value 注解直接注入对应的值，这能获取到 Spring 中 Environment 的值；
2 、使用 @ConfigurationProperties 注解把对应的值绑定到一个对象；
```
```
3 、直接获取注入 Environment 进行获取；
```
```
配置属性的方式很多，Spring boot使用了一种独有的 PropertySource 可以很方便的覆盖属性的值。
```
```
配置属性加载的顺序如下：
```
```
1 、开发者工具 Devtools 全局配置参数；
```
```
2 、单元测试上的 `@TestPropertySource` 注解指定的参数；
```
```
3 、单元测试上的 `@SpringBootTest` 注解指定的参数；
```
```
4 、命令行指定的参数，如 java -jar springboot.jar --name="Java技术栈"；
```
```
5 、命令行中的 SPRING_APPLICATION_JSONJSON 指定参数, 如 java -
Dspring.application.json='{"name":"Java技术栈"}' -jar springboot.jar
```
```
6 、ServletConfig 初始化参数；
```
```
7 、ServletContext 初始化参数；
```
```
8 、JNDI参数（如 java:comp/env/spring.application.json）；
```
```
9 、Java系统参数（来源：System.getProperties()）；
```
```
10 、操作系统环境变量参数；
11 、RandomValuePropertySource 随机数，仅匹配：ramdom.*；
```
```
12 、JAR包外面的配置文件参数（application-{profile}.properties（YAML））
```
```
13 、JAR包里面的配置文件参数（application-{profile}.properties（YAML））
```
```
14 、JAR包外面的配置文件参数（application.properties（YAML））
```
```
15 、JAR包里面的配置文件参数（application.properties（YAML））
```
```
16 、`@Configuration配置文件上 [@PropertySource](mailto:@PropertySource) 注解加载的参
数；
```
```
17 、默认参数（通过 SpringApplication.setDefaultProperties 指定）；
```
```
数字小的优先级越高，即数字小的会覆盖数字大的参数值，我们来实践下，验证以上配置参数的加载顺
序。
```
##### 什么是 YAML？

page: 5/13 of 尼恩 Java 硬核架构班：狠卷 3 高架构，卷透底层技术，走向技术自由！


```
YAML 是一种人类可读的数据序列化语言。它通常用于配置文件。与属性文件相比，如果我们想要在配
置文件中添加复杂的属性，YAML 文件就更加结构化，而且更少混淆。可以看出 YAML 具有分层配置数
据。
```
##### YAML 配置的优势在哪里?

```
YAML 现在可以算是非常流行的一种配置文件格式了，无论是前端还是后端，都可以见到 YAML 配置。
那么 YAML 配置和传统的 properties 配置相比到底有哪些优势呢？
```
```
1. 配置有序，在一些特殊的场景下，配置有序很关键
2. 支持数组，数组中的元素可以是基本数据类型也可以是对象
3. 简洁
```
```
相比 properties 配置文件，YAML 还有一个缺点，就是不支持 @PropertySource 注解导入自定义的
YAML 配置。
```
##### Spring Boot 是否可以使用 XML 配置?

```
Spring Boot 推荐使用 Java 配置而非 XML 配置，但是 Spring Boot 中也可以使用 XML 配置，通过
@ImportResource 注解可以引入一个 XML 配置。
eg:
```
##### spring boot 核心配置文件是什么？bootstrap. properties 和

##### application. properties 有何区别?

```
单纯做 Spring Boot 开发，可能不太容易遇到 bootstrap.properties 配置文件，但是在结合 Spring
Cloud 时，这个配置就会经常遇到了，特别是在需要加载一些远程配置文件的时侯。
```
```
spring boot 核心的两个配置文件：
```
```
bootstrap (. yml 或者. properties)：boostrap 由父 ApplicationContext 加载的，比 applicaton
优先加载，配置在应用程序上下文的引导阶段生效。一般来说我们在 Spring Cloud Config 或者
Nacos 中会用到它。且 boostrap 里面的属性不能被覆盖；
application (. yml 或者. properties)： 由ApplicatonContext 加载，用于 spring boot 项目的自
动化配置。
```
##### 什么是 Spring Profiles？

```
Spring Profiles 允许用户根据不同配置文件（dev，test，prod 等）来注册 bean。因此，当应用程序
在开发中运行时，只有某些 bean 可以加载，而在 PRODUCTION中，某些其他 bean 可以加载。假设
我们的要求是 Swagger 文档仅适用于 QA 环境，并且禁用所有其他文档。这可以使用配置文件来完
成。
```
```
Spring Boot 使得使用配置文件非常简单。
```
##### 如何在自定义端口上运行 Spring Boot 应用程序？

```
为了在自定义端口上运行 Spring Boot 应用程序，您可以在application.properties 中指定端口。
```
```
@ImportResource({"classpath:some-context.xml","classpath:another-context.xml"})
```
page: 6/13 of 尼恩 Java 硬核架构班：狠卷 3 高架构，卷透底层技术，走向技术自由！


### 安全

##### 如何实现 Spring Boot 应用程序的安全性？

```
为了实现 Spring Boot 的安全性，我们使用 spring-boot-starter-security 依赖项，并且必须添加安全配
置。它只需要很少的代码。配置类将必须扩展WebSecurityConfigurerAdapter 并覆盖其方法。
```
##### 比较一下 Spring Security 和 Shiro 各自的优缺点?

```
由于 Spring Boot 官方提供了大量的非常方便的开箱即用的 Starter ，包括 Spring Security 的 Starter
，使得在 Spring Boot 中使用 Spring Security 变得更加容易，甚至只需要添加一个依赖就可以保护所
有的接口，所以，如果是 Spring Boot 项目，一般选择 Spring Security 。当然这只是一个建议的组
合，单纯从技术上来说，无论怎么组合，都是没有问题的。Shiro 和 Spring Security 相比，主要有如下
一些特点：
1. Spring Security 是一个重量级的安全管理框架；Shiro 则是一个轻量级的安全管理框架
2. Spring Security 概念复杂，配置繁琐；Shiro 概念简单、配置简单
3. Spring Security 功能强大；Shiro 功能简单
```
##### Spring Boot 中如何解决跨域问题?

```
跨域可以在前端通过 JSONP 来解决，但是 JSONP 只可以发送 GET 请求，无法发送其他类型的请求，在
RESTful 风格的应用中，就显得非常鸡肋，因此我们推荐在后端通过 （CORS，Cross-origin resource
sharing） 来解决跨域问题。这种解决方案并非 Spring Boot 特有的，在传统的 SSM 框架中，就可以通
过 CORS 来解决跨域问题，只不过之前我们是在 XML 文件中配置 CORS ，现在可以通过实现
WebMvcConfigurer接口然后重写addCorsMappings方法解决跨域问题。
```
```
项目中前后端分离部署，所以需要解决跨域的问题。
我们使用cookie存放用户登录的信息，在spring拦截器进行权限控制，当权限不符合时，直接返回给用
户固定的json结果。
当用户登录以后，正常使用；当用户退出登录状态时或者token过期时，由于拦截器和跨域的顺序有问
题，出现了跨域的现象。
```
```
server.port = 8090
```
```
@Configuration
public class CorsConfig implements WebMvcConfigurer {
```
```
@Override
public void addCorsMappings(CorsRegistry registry) {
registry.addMapping("/**")
.allowedOrigins("*")
.allowCredentials(true)
.allowedMethods("GET", "POST", "PUT", "DELETE", "OPTIONS")
.maxAge( 3600 );
}
```
```
}
```
page: 7/13 of 尼恩 Java 硬核架构班：狠卷 3 高架构，卷透底层技术，走向技术自由！


```
我们知道一个http请求，先走filter，到达servlet后才进行拦截器的处理，如果我们把cors放在filter
里，就可以优先于权限拦截器执行。
```
##### 什么是 CSRF 攻击？

```
CSRF 代表跨站请求伪造。这是一种攻击，迫使最终用户在当前通过身份验证的Web 应用程序上执行不
需要的操作。CSRF 攻击专门针对状态改变请求，而不是数据窃取，因为攻击者无法查看对伪造请求的
响应。
```
### 监视器

##### Spring Boot 中的监视器是什么？

```
Spring boot actuator 是 spring 启动框架中的重要功能之一。Spring boot 监视器可帮助您访问生产环
境中正在运行的应用程序的当前状态。有几个指标必须在生产环境中进行检查和监控。即使一些外部应
用程序可能正在使用这些服务来向相关人员触发警报消息。监视器模块公开了一组可直接作为 HTTP
URL 访问的REST 端点来检查状态。
```
##### 如何在 Spring Boot 中禁用 Actuator 端点安全性？

```
默认情况下，所有敏感的 HTTP 端点都是安全的，只有具有 ACTUATOR 角色的用户才能访问它们。安
全性是使用标准的 HttpServletRequest.isUserInRole 方法实施的。 我们可以使用来禁用安全性。只有
在执行机构端点在防火墙后访问时，才建议禁用安全性。
```
##### 我们如何监视所有 Spring Boot 微服务？

```
Spring Boot 提供监视器端点以监控各个微服务的度量。这些端点对于获取有关应用程序的信息（如它
们是否已启动）以及它们的组件（如数据库等）是否正常运行很有帮助。但是，使用监视器的一个主要
缺点或困难是，我们必须单独打开应用程序的知识点以了解其状态或健康状况。想象一下涉及 50 个应
用程序的微服务，管理员将不得不击中所有 50 个应用程序的执行终端。为了帮助我们处理这种情况，
我们将使用位于的开源项目。 它建立在 Spring Boot Actuator 之上，它提供了一个 Web UI，使我们能
够可视化多个应用程序的度量。
```
```
@Configuration
public class CorsConfig {
```
```
@Bean
public CorsFilter corsFilter() {
CorsConfiguration corsConfiguration = new CorsConfiguration();
corsConfiguration.addAllowedOrigin("*");
corsConfiguration.addAllowedHeader("*");
corsConfiguration.addAllowedMethod("*");
corsConfiguration.setAllowCredentials(true);
UrlBasedCorsConfigurationSource urlBasedCorsConfigurationSource = new
UrlBasedCorsConfigurationSource();
urlBasedCorsConfigurationSource.registerCorsConfiguration("/**",
corsConfiguration);
return new CorsFilter(urlBasedCorsConfigurationSource);
}
```
```
}
```
page: 8/13 of 尼恩 Java 硬核架构班：狠卷 3 高架构，卷透底层技术，走向技术自由！


##### 前后端分离，如何维护 Rest API 接口文档?

```
前后端分离开发日益流行，大部分情况下，我们都是通过 Spring Boot 做前后端分离开发，前后端分离
一定会有接口文档，不然会前后端会深深陷入到扯皮中。一个比较笨的方法就是使用 word 或者 md 来
维护接口文档，但是效率太低，接口一变，所有人手上的文档都得变。在 Spring Boot 中，这个问题常
见的解决方案是 Swagger ，使用 Swagger 我们可以快速生成一个接口文档网站，接口一旦发生变化，
文档就会自动更新，所有开发工程师访问这一个在线网站就可以获取到最新的接口文档，非常方便。
```
```
关于 Swagger 的用法，大家可以参考：SpringBoot整合Swagger2，再也不用维护接口文档了！
```
### 整合第三方项目

##### 什么是 WebSockets？

```
WebSocket 是一种计算机通信协议，通过单个 TCP 连接提供全双工通信信道。
1 、WebSocket 是双向的 -使用 WebSocket 客户端或服务器可以发起消息发送。
```
```
2 、WebSocket 是全双工的 -客户端和服务器通信是相互独立的。
```
```
3 、单个 TCP 连接 -初始连接使用 HTTP，然后将此连接升级到基于套接字的连接。然后这个单一连接用
于所有未来的通信
```
```
4 、Light -与 http 相比，WebSocket 消息数据交换要轻得多。
```
##### 什么是 Spring Data?

```
Spring Data 是 Spring 的一个子项目。用于简化数据库访问，支持NoSQL 和 关系数据存储。其主要目
标是使数据库的访问变得方便快捷。Spring Data 具有如下特点：
```
```
SpringData 项目支持 NoSQL 存储：
1. MongoDB （文档数据库）
2. Neo4j（图形数据库）
3. Redis（键/值存储）
4. Hbase（列族数据库）
```
```
SpringData 项目所支持的关系数据存储技术：
```
```
1. JDBC
2. JPA
```
```
Spring Data Jpa 致力于减少数据访问层 (DAO) 的开发量. 开发者唯一要做的，就是声明持久层的接口，
其他都交给 Spring Data JPA 来帮你完成！Spring Data JPA 通过规范方法的名字，根据符合规范的名字
来确定方法需要实现什么样的逻辑。
```
##### 什么是 Spring Batch？

```
Spring Boot Batch 提供可重用的函数，这些函数在处理大量记录时非常重要，包括日志/跟踪，事务管
理，作业处理统计信息，作业重新启动，跳过和资源管理。它还提供了更先进的技术服务和功能，通过
优化和分区技术，可以实现极高批量和高性能批处理作业。简单以及复杂的大批量批处理作业可以高度
可扩展的方式利用框架处理重要大量的信息。
```
##### 什么是 FreeMarker 模板？

page: 9/13 of 尼恩 Java 硬核架构班：狠卷 3 高架构，卷透底层技术，走向技术自由！


```
FreeMarker 是一个基于 Java 的模板引擎，最初专注于使用 MVC 软件架构进行动态网页生成。使用
Freemarker 的主要优点是表示层和业务层的完全分离。程序员可以处理应用程序代码，而设计人员可
以处理 html 页面设计。最后使用freemarker 可以将这些结合起来，给出最终的输出页面。
```
##### 如何集成 Spring Boot 和 ActiveMQ？

```
对于集成 Spring Boot 和 ActiveMQ，我们使用依赖关系。 它只需要很少的配置，并且不需要样板代
码。
```
##### 什么是 Apache Kafka？

```
Apache Kafka 是一个分布式发布 - 订阅消息系统。它是一个可扩展的，容错的发布 - 订阅消息系统，它
使我们能够构建分布式应用程序。这是一个 Apache 顶级项目。Kafka 适合离线和在线消息消费。
```
##### 什么是 Swagger？你用 Spring Boot 实现了它吗？

```
Swagger 广泛用于可视化 API，使用 Swagger UI 为前端开发人员提供在线沙箱。Swagger 是用于生成
RESTful Web 服务的可视化表示的工具，规范和完整框架实现。它使文档能够以与服务器相同的速度更
新。当通过 Swagger 正确定义时，消费者可以使用最少量的实现逻辑来理解远程服务并与其进行交
互。因此，Swagger消除了调用服务时的猜测。
```
##### 前后端分离，如何维护接口文档?

```
前后端分离开发日益流行，大部分情况下，我们都是通过 Spring Boot 做前后端分离开发，前后端分离
一定会有接口文档，不然会前后端会深深陷入到扯皮中。一个比较笨的方法就是使用 word 或者 md 来
维护接口文档，但是效率太低，接口一变，所有人手上的文档都得变。在 Spring Boot 中，这个问题常
见的解决方案是 Swagger ，使用 Swagger 我们可以快速生成一个接口文档网站，接口一旦发生变化，
文档就会自动更新，所有开发工程师访问这一个在线网站就可以获取到最新的接口文档，非常方便。
```
### 其他

##### 您使用了哪些 starter maven 依赖项？

```
使用了下面的一些依赖项
```
```
spring-boot-starter-activemq
```
```
spring-boot-starter-security
```
```
这有助于增加更少的依赖关系，并减少版本的冲突。
```
##### Spring Boot 中的 starter 到底是什么?

```
首先，这个 Starter 并非什么新的技术点，基本上还是基于 Spring 已有功能来实现的。首先它提供了一
个自动化配置类，一般命名为 XXXAutoConfiguration ，在这个配置类中通过条件注解来决定一个配
置是否生效（条件注解就是 Spring 中原本就有的），然后它还会提供一系列的默认配置，也允许开发
者根据实际情况自定义相关配置，然后通过类型安全的属性注入将这些配置属性注入进来，新注入的属
性会代替掉默认属性。正因为如此，很多第三方框架，我们只需要引入依赖就可以直接使用了。当然，
开发者也可以自定义 Starter
```
##### spring-boot-starter-parent 有什么用?

我们都知道，新创建一个 Spring Boot 项目，默认都是有 parent 的，这个 parent 就是 spring-boot-
starter-parent ，spring-boot-starter-parent 主要有如下作用：
1. 定义了 Java 编译版本为 1.8 。
page: 10/13 of 尼恩 Java 硬核架构班：狠卷 3 高架构，卷透底层技术，走向技术自由！


```
2. 使用 UTF-8 格式编码。
3. 继承自 spring-boot-dependencies，这个里边定义了依赖的版本，也正是因为继承了这个依赖，
所以我们在写依赖时才不需要写版本号。
4. 执行打包操作的配置。
5. 自动化的资源过滤。
6. 自动化的插件配置。
7. 针对 application.properties 和 application.yml 的资源过滤，包括通过 profile 定义的不同环境的
配置文件，例如 application-dev.properties 和 application-dev.yml。
```
##### Spring Boot 打成的 jar 和普通的 jar 有什么区别?

```
Spring Boot 项目最终打包成的 jar 是可执行 jar ，这种 jar 可以直接通过 java -jar xxx.jar 命令来
运行，这种 jar 不可以作为普通的 jar 被其他项目依赖，即使依赖了也无法使用其中的类。
Spring Boot 的 jar 无法被其他项目依赖，主要还是他和普通 jar 的结构不同。普通的 jar 包，解压后直
接就是包名，包里就是我们的代码，而 Spring Boot 打包成的可执行 jar 解压后，在 \BOOT-
INF\classes 目录下才是我们的代码，因此无法被直接引用。如果非要引用，可以在 pom.xml 文件中
增加配置，将 Spring Boot 项目打包成两个 jar ，一个可执行，一个可引用。
```
##### 运行 Spring Boot 有哪几种方式？

```
1 ）打包用命令或者放到容器中运行
```
```
2 ）用 Maven/ Gradle 插件运行
3 ）直接执行 main 方法运行
```
##### Spring Boot 需要独立的容器运行吗？

```
可以不需要，内置了 Tomcat/ Jetty 等容器。
```
##### 开启 Spring Boot 特性有哪几种方式？

```
1 ）继承spring-boot-starter-parent项目
```
```
2 ）导入spring-boot-dependencies项目依赖
```
##### 如何使用 Spring Boot 实现异常处理？

```
Spring 提供了一种使用 ControllerAdvice 处理异常的非常有用的方法。 我们通过实现一个
ControlerAdvice 类，来处理控制器类抛出的所有异常。
```
##### 如何使用 Spring Boot 实现分页和排序？

```
使用 Spring Boot 实现分页非常简单。使用 Spring Data-JPA 可以实现将可分页的传递给存储库方法。
```
##### 微服务中如何实现 session 共享?

```
在微服务中，一个完整的项目被拆分成多个不相同的独立的服务，各个服务独立部署在不同的服务器
上，各自的 session 被从物理空间上隔离开了，但是经常，我们需要在不同微服务之间共享 session ，
常见的方案就是 Spring Session + Redis 来实现 session 共享。将所有微服务的 session 统一保存在
Redis 上，当各个微服务对 session 有相关的读写操作时，都去操作 Redis 上的 session 。这样就实现
了 session 共享，Spring Session 基于 Spring 中的代理过滤器实现，使得 session 的同步操作对开发
人员而言是透明的，非常简便。
```
##### Spring Boot 中如何实现定时任务?

page: 11/13 of 尼恩 Java 硬核架构班：狠卷 3 高架构，卷透底层技术，走向技术自由！


```
定时任务也是一个常见的需求，Spring Boot 中对于定时任务的支持主要还是来自 Spring 框架。
```
```
在 Spring Boot 中使用定时任务主要有两种不同的方式，一个就是使用 Spring 中的 @Scheduled 注
解，另一个则是使用第三方框架 Quartz。
```
```
使用 Spring 中的 @Scheduled 的方式主要通过 @Scheduled 注解来实现。
```
```
使用 Quartz ，则按照 Quartz 的方式，定义 Job 和 Trigger 即可。
```
##### 微服务中如何实现 session 共享?

```
在微服务中，一个完整的项目被拆分成多个不相同的独立的服务，各个服务独立部署在不同的服务器
上，各自的 session 被从物理空间上隔离开了，但是经常，我们需要在不同微服务之间共享 session ，
常见的方案就是 Spring Session + Redis 来实现 session 共享。将所有微服务的 session 统一保存在
Redis 上，当各个微服务对 session 有相关的读写操作时，都去操作 Redis 上的 session 。这样就实现
了 session 共享，Spring Session 基于 Spring 中的代理过滤器实现，使得 session 的同步操作对开发
人员而言是透明的，非常简便。 session 共享大家可以参考：Spring Boot 一个依赖搞定 session 共
享，没有比这更简单的方案了！
```
### 打包部署

##### 什么是嵌入式服务器？我们为什么要使用嵌入式服务器呢?

```
思考一下在你的虚拟机上部署应用程序需要些什么。
```
```
第一步： 安装 Java
```
```
第二部： 安装 Web 或者是应用程序的服务器（Tomat/Wbesphere/Weblogic 等等）
第三部： 部署应用程序 war 包
```
```
如果我们想简化这些步骤，应该如何做呢？
让我们来思考如何使服务器成为应用程序的一部分？
```
```
你只需要一个安装了 Java 的虚拟机，就可以直接在上面部署应用程序了，
```
```
是不是很爽？
这个想法是嵌入式服务器的起源。
```
```
当我们创建一个可以部署的应用程序的时候，我们将会把服务器（例如，tomcat）嵌入到可部署的服务
器中。
例如，对于一个 Spring Boot 应用程序来说，你可以生成一个包含 Embedded Tomcat 的应用程
序 jar。你就可以想运行正常 Java 应用程序一样来运行 web 应用程序了。
```
```
嵌入式服务器就是我们的可执行单元包含服务器的二进制文件（例如，tomcat.jar）。
```
##### Spring Boot 如何实现热部署?

```
Spring Boot 实现热部署其实很容易，引入 devtools 依赖即可，这样当编译文件发生变化时，Spring
Boot 就会自动重启。在 Eclipse 中，用户按下保存按键，就会自动编译进而重启 Spring Boot，IDEA
中由于是自动保存的，自动保存时并未编译，所以需要开发者按下 Ctrl+F9 进行编译，编译完成后，项
目就自动重启了。
```
```
如果仅仅只是页面模板发生变化，Java 类并未发生变化，此时可以不用重启 Spring Boot，使用
LiveReload 插件就可以轻松实现热部署。
```
page: 12/13 of 尼恩 Java 硬核架构班：狠卷 3 高架构，卷透底层技术，走向技术自由！


##### 如何重新加载 Spring Boot 上的更改，而无需重新启动服务器？

##### Spring Boot 项目如何热部署？

```
这可以使用 DEV 工具来实现。通过这种依赖关系，您可以节省任何更改，嵌入式tomcat 将重新启动。
Spring Boot 有一个开发工具（DevTools）模块，它有助于提高开发人员的生产力。Java 开发人员面临
的一个主要挑战是将文件更改自动部署到服务器并自动重启服务器。开发人员可以重新加载 Spring
Boot 上的更改，而无需重新启动服务器。这将消除每次手动部署更改的需要。Spring Boot 在发布它的
第一个版本时没有这个功能。这是开发人员最需要的功能。DevTools 模块完全满足开发人员的需求。
该模块将在生产环境中被禁用。它还提供 H2 数据库控制台以更好地测试应用程序。
```
##### 为什么我们需要 spring-boot-maven-plugin?

```
spring-boot-maven-plugin 提供了一些像 jar 一样打包或者运行应用程序的命令。
```
```
spring-boot:run 运行你的 SpringBooty 应用程序。
spring-boot：repackage 重新打包你的 jar 包或者是 war 包使其可执行
spring-boot：start 和 spring-boot：stop 管理 Spring Boot 应用程序的生命周期（也可以说是为
了集成测试）。
spring-boot:build-info 生成执行器可以使用的构造信息。
```
##### 如何使用 Spring Boot 部署到不同的服务器？

```
你需要做下面两个步骤：
```
```
在一个项目中生成一个 war 文件。
将它部署到你最喜欢的服务器（websphere 或者 Weblogic 或者 Tomcat and so on）。
第二步：取决于你的服务器。
```
##### Spring Boot 打成的 jar 和普通的 jar 有什么区别?

```
Spring Boot 项目最终打包成的 jar 是可执行 jar ，这种 jar 可以直接通过 java -jar xxx.jar 命令来运
行，这种 jar 不可以作为普通的 jar 被其他项目依赖，即使依赖了也无法使用其中的类。
Spring Boot 的 jar 无法被其他项目依赖，主要还是他和普通 jar 的结构不同。普通的 jar 包，解压后直
接就是包名，包里就是我们的代码，而 Spring Boot 打包成的可执行 jar 解压后，在 \BOOT-
INF\classes 目录下才是我们的代码，因此无法被直接引用。如果非要引用，可以在 pom.xml 文件中增
加配置，将 Spring Boot 项目打包成两个 jar ，一个可执行，一个可引用。
```
```
<dependency>
<groupId>org.springframework.boot</groupId>
<artifactId>spring-boot-devtools</artifactId>
</dependency>
```
page: 13/13 of 尼恩 Java 硬核架构班：狠卷 3 高架构，卷透底层技术，走向技术自由！


```
疯狂创客圈 尼恩Java面试宝典^
```
# 硬核推荐：尼恩 Java 硬核架构班

## 又名疯狂创客圈社群 VIP

## 详情：

## https://www.cnblogs.com/crazymakercircle/p/9904544.html


```
疯狂创客圈 尼恩Java面试宝典^
```
#### 架构班（社群 VIP）的起源：

最初的视频，主要是给读者加餐。很多的读者，需要一些高质量的实操、理论视频，所以，我就围绕书，和
底层，做了几个实操、理论视频，然后效果还不错，后面就做成迭代模式了。

#### 架构班（社群 VIP）的功能：

提供高质量实操项目整刀真枪的架构指导、快速提升大家的:
 开发水平
 设计水平
 架构水平
弥补业务中 CRUD 开发短板，帮助大家尽早脱离具备 3 高能力，掌握：
 高性能
 高并发
 高可用
作为一个高质量的架构师成长、人脉社群，把所有的卷王聚焦起来，一起卷：
 卷高并发实操
 卷底层原理
 卷架构理论、架构哲学
 最终成为顶级架构师，实现人生理想，走向人生巅峰

#### 架构班（社群 VIP）的目的：

 高质量的实操，大大提升简历的含金量，吸引力，增强面试的召唤率
 为大家提供九阳真经、葵花宝典，快速提升水平
 进大厂、拿高薪
 一路陪伴，提供助学视频和指导，辅导大家成为架构师
 自学为主，和其他卷王一起，卷高并发实操，卷底层原理、卷大厂面试题，争取狠卷 3 月成高手，狠卷
3 年成为顶级架构师


```
疯狂创客圈 尼恩Java面试宝典^
```
#### N 个超高并发实操项目：简历压轴、个顶个精彩


```
疯狂创客圈 尼恩Java面试宝典^
```
###### 【样章】第 17 章：横扫全网 Rocketmq 视频第 2 部曲: 工业级 rocketmq 高可用（HA）

###### 底层原理和实操

工业级 rocketmq 高可用底层原理，包含：消息消费、同步消息、异步消息、单向消息等不同消息的底层原理
和源码实现；消息队列非常底层的主从复制、高可用、同步刷盘、异步刷盘等底层原理。
工业级 rocketmq 高可用底层原理和搭建实操，包含：高可用集群的搭建。
解决以下难题：
1 、技术难题：RocketMQ 如何最大限度的保证消息不丢失的呢？RocketMQ 消息如何做到高可靠投递？
2 、技术难题：基于消息的分布式事务，核心原理不理解
3 、选型难题： kafka or rocketmq ，该娶谁？
下图链接：https://www.processon.com/view/6178e8ae0e3e7416bde9da19


```
疯狂创客圈 尼恩Java面试宝典^
```
#### 成功案例： 2 年翻 3 倍， 35 岁卷王成功转型为架构师

详情：http://topcoder.cloud/forum.php?mod=forumdisplay&fid=43&page=1


```
疯狂创客圈 尼恩Java面试宝典^
```
#### 简历优化后的成功涨薪案例（VIP 含免费简历优化）


```
疯狂创客圈 尼恩Java面试宝典^
```
# 修改简历找尼恩（资深简历优化专家）

 如果面试表达不好，尼恩会提供简历优化指导

 如果项目没有亮点，尼恩会提供项目亮点指导

 如果面试表达不好，尼恩会提供面试表达指导

作为 40 岁老架构师，尼恩长期承担技术面试官的角色：

 从业以来，“阅历”无数，对简历有着点石成金、改头换面、脱胎换骨的指导能力。

 尼恩指导过刚刚就业的小白，也指导过 P 8 级的老专家，都指导他们上岸。

如何联系尼恩。尼恩微信，请参考下面的地址：

语雀：https://www.yuque.com/crazymakercircle/gkkw8s/khigna
码云：https://gitee.com/crazymaker/SimpleCrayIM/blob/master/疯狂创客圈总目录.md


