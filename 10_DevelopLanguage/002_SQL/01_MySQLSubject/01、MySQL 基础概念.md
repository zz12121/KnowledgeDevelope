###### 1. 什么是 MySQL？
MySQL是一款**开源的关系型数据库管理系统（RDBMS）**，由瑞典MySQL AB公司开发，目前隶属于Oracle旗下。它使用**结构化查询语言（SQL）进行数据管理，以其**高性能、高可靠性、易用性和低成本**而闻名，是全球最流行的开源数据库之一。
- **核心架构解析**：MySQL采用经典的**客户端-服务器（C/S）架构**。其核心可分为三层：
    1. **连接层**：负责客户端连接管理、身份认证和权限验证。Java开发者熟悉的数据库连接池（如HikariCP）就在这一层工作，通过减少频繁创建和销毁连接的开销来提升性能。
    2. **SQL层**：包含查询解析、优化、缓存等功能。查询优化器会基于成本模型（Cost-Based Optimizer）为SQL语句选择它认为最高效的执行计划。
    3. **存储引擎层**：这是MySQL最具特色的设计——**可插拔的存储引擎架构**。这意味着你可以根据不同的业务场景（如是否需要事务支持、是高并发读还是高并发写）为不同的表选择最合适的存储引擎，例如InnoDB、MyISAM等。这种架构将数据库的底层实现与上层的SQL接口分离，提供了极大的灵活性。
- **与Java应用的交互**：在Java应用中，我们通过JDBC（Java Database Connectivity）驱动与MySQL服务器通信。JDBC驱动将Java中的SQL调用转换为MySQL网络协议（如X Protocol）认可的数据格式，通过网络传输给MySQL服务器执行。
###### 2. MySQL 与其他数据库（如 PostgreSQL、Oracle）的区别？
|特性维度|MySQL|PostgreSQL|Oracle|
|---|---|---|---|
|**核心定位**​|轻量、快速、易用、互联网应用首选|功能强大、高度合规、学术派开源数据库|企业级、功能全面、稳定安全、商业数据库|
|**存储引擎**​|**插件式**（如InnoDB, MyISAM），灵活性强|**单一引擎**，功能集成度高，优化统一|**单一引擎**，深度集成，高度优化|
|**事务隔离级别**​|默认 **REPEATABLE-READ**​|默认 **READ COMMITTED**​|默认 **READ COMMITTED**​|
|**SQL标准支持**​|支持基础功能，有自身方言（如`LIMIT`）|**标准兼容性极高**，支持复杂SQL和窗口函数|完全支持，拥有强大的**PL/SQL**​|
|**主要优势**​|复制简单、读写性能高、社区活跃、成本低|数据一致性、复杂查询、扩展性（支持自定义类型、函数）、JSONB处理|高可用性（RAC）、灾难恢复、安全特性、性能诊断工具|
|**典型应用场景**​|Web应用、SaaS、中小型企业系统|GIS地理信息系统、复杂分析、金融业务系统|大型银行核心系统、电信计费、政府关键应用|
|**许可与成本**​|开源免费（GPL），也可购买商业版|开源（BSD协议），非常自由|商业授权，**价格昂贵**​|

**从Java开发者视角的深度剖析：**
- **事务与并发控制**：三者都实现了**MVCC（多版本并发控制）**​ 来避免读写冲突，但实现方式不同。
    - **MySQL (InnoDB)**：在**ReadView**中维护了活跃事务ID列表，通过比较事务ID和记录上的`DB_TRX_ID`（事务ID）字段来判断记录的可见性。它使用**UNDO日志**来构建数据的历史版本。
    - **PostgreSQL**：直接将数据行的不同版本存储在表页面中，通过`xmin`和`xmax`系统字段来标记事务版本。这种设计避免了“纯UNDO日志”可能带来的回滚段竞争问题。
    - **Oracle**：使用**回滚段（Undo Segments）来存储旧数据版本，实现MVCC。
- **索引机制**：
    - **MySQL/InnoDB**：主索引是**聚簇索引**，即数据行直接存放在主键索引的叶子节点中。二级索引的叶子节点存储的是主键值。这意味着通过二级索引查询需要回表（回主键索引）查找数据。
    - **PostgreSQL**：使用**堆表（Heap Table）**​ 结构，数据行无序存放。所有索引都是二级索引，索引叶子节点直接指向数据行的物理位置（CTID）。
    - **Oracle**：同样支持聚簇索引和堆表，提供了包括B-Tree、位图索引等多种索引类型。
###### 3. 什么是关系型数据库？
关系型数据库是建立在**关系模型**基础上的数据库。它使用**表（Table）来组织和存储数据，每个表由**行（Row）**​ 和**列（Column）**​ 组成。
- **核心概念**：
    - **表（Table）**：表示一个关系，例如`用户表`。
    - **行（Row/Record）**：表中的一条记录，代表一个实体，如一个具体的用户。
    - **列（Column/Field）**：表中的一个字段，代表实体的一个属性，如`用户名`、`年龄`。
    - **模式（Schema）**：定义了表的结构、数据类型、约束以及表之间的关系。
    - **主键（Primary Key）**：唯一标识表中每一行的列或列组合。
    - **外键（Foreign Key）**：用于建立和加强两个表数据之间的链接，保证**参照完整性**。
- **ACID特性**：这是关系型数据库事务处理的基石，尤其在需要保证数据一致性的业务场景（如银行转账）中至关重要。
    - **原子性（Atomicity）**：事务是一个不可分割的工作单位，要么全部执行，要么全部不执行。
    - **一致性（Consistency）**：事务执行前后，数据库都必须保持一致性状态。
    - **隔离性（Isolation）**：并发事务之间相互隔离，不应互相干扰。
    - **持久性（Durability）**：事务一旦提交，其对数据的修改就是永久性的。
###### 4. MySQL 的主要特点有哪些？
1. **开源与成本效益**：遵循GPL协议，可以免费使用，极大降低了项目的初始成本。
2. **可插拔的存储引擎**：如前所述，这是MySQL的核心优势。你可以为业务选择最佳引擎，如支持事务和外键的**InnoDB**，或擅长全文索引的**MyISAM**（MySQL 5.5后InnoDB为默认引擎）。
3. **高性能与可扩展性**：通过查询缓存、连接池、多种索引策略等优化手段，MySQL能够处理海量数据和高并发请求。其主从复制架构易于扩展读能力。
4. **高可用性**：提供了完善的复制（Replication）技术，如主从复制、组复制（Group Replication），可以实现数据库的高可用和灾难恢复。
5. **强大的社区支持**：拥有庞大的开源社区，提供了丰富的文档、教程和第三方工具。
6. **跨平台支持**：可以运行在多种操作系统上，包括Linux、Windows、macOS等。
7. **数据安全**：提供了完整的用户权限管理系统，以及SSL连接、数据加密等安全特性。
###### 5. MySQL 支持哪些数据类型？

| 类别           | 常用数据类型                                              | 描述与注意事项                                                    |
| ------------ | --------------------------------------------------- | ---------------------------------------------------------- |
| **数值类型**​    | `INT`, `BIGINT`, `DECIMAL(M, D)`, `FLOAT`, `DOUBLE` | `DECIMAL`用于存储精确的小数，如金额。`M`是总位数，`D`是小数点后的位数。                |
| **日期和时间类型**​ | `DATE`, `TIME`, `DATETIME`, `TIMESTAMP`, `YEAR`     | `TIMESTAMP`受时区影响，范围较小（1970-2038）。`DATETIME`范围更大，不受时区影响。    |
| **字符串类型**​   | `CHAR(N)`, `VARCHAR(N)`, `TEXT`, `BLOB`             | `CHAR`是定长，适合长度固定的数据（如MD5值）。`VARCHAR`是变长，更节省空间。`TEXT`用于长文本。 |
| **二进制类型**​   | `BINARY`, `VARBINARY`, `BLOB`                       | 用于存储二进制数据，如图片、文件等。                                         |
| **JSON类型**​  | `JSON`                                              | MySQL 5.7+版本支持，允许高效地存储和查询JSON格式数据。                         |
| **空间类型**​    | `GEOMETRY`, `POINT`, `POLYGON`                      | 用于存储地理空间数据。                                                |

**实战建议**：在Java中，`DATETIME`类型可以映射到`java.time.LocalDateTime`，`TIMESTAMP`可以映射到`java.time.Instant`（需考虑时区转换）。`BLOB`类型可以映射到`byte[]`。
###### 6. 什么是 SQL？SQL 有哪些分类？
SQL（Structured Query Language）是用于管理关系型数据库的标准计算机语言。它可以用于查询、更新、管理数据库系统。
**SQL主要分为四类：**
1. **数据定义语言（DDL - Data Definition Language）**
    - **作用**：用于定义和修改数据库模式结构，如创建、修改、删除表、索引等对象。
    - **关键字**：`CREATE`, `ALTER`, `DROP`, `TRUNCATE`。
    - **示例**：`CREATE TABLE users (id INT PRIMARY KEY, name VARCHAR(100));`
2. **数据操作语言（DML - Data Manipulation Language）**
    - **作用**：用于对数据库中的数据进行增、删、改操作。
    - **关键字**：`INSERT`, `UPDATE`, `DELETE`。
    - **示例**：`UPDATE users SET name = 'Bob' WHERE id = 1;`
    - **Java视角**：在Java中，执行DML语句后，需要通过`Connection`对象的`commit()`方法提交事务，才能使更改永久生效。或者使用`setAutoCommit(true)`开启自动提交。
3. **数据查询语言（DQL - Data Query Language）**
    - **作用**：用于从数据库中查询数据。虽然它常被归入DML，但由于其核心地位，通常单独列出。
    - **关键字**：`SELECT`。
    - **示例**：`SELECT name, email FROM users WHERE age > 18;`
    - **深度扩展**：复杂的`SELECT`查询会涉及多表连接（JOIN）、子查询、聚合函数（`COUNT`, `SUM`）、分组（`GROUP BY`）和排序（`ORDER BY`）。MySQL 8.0+还支持**窗口函数**，用于进行复杂的跨行计算。
4. **数据控制语言（DCL - Data Control Language）**
    - **作用**：用于控制数据库的访问权限和安全。
    - **关键字**：`GRANT`, `REVOKE`。
    - **示例**：`GRANT SELECT, INSERT ON database.users TO 'readwrite_user'@'localhost';`